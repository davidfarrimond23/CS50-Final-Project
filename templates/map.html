{% extends "layout.html" %}

{% block head %}
<!-- QGIS resources -->
        <link rel="stylesheet" href="../static/resources/ol.css">
        <link rel="stylesheet" href="../static/resources/fontawesome-all.min.css">
        <link rel="stylesheet" href="../static/resources/ol-layerswitcher.css">
        <link rel="stylesheet" href="../static/resources/qgis2web.css">

    <style>
    .search-layer {
      top: 65px;
      left: .5em;
    }
    .ol-touch .search-layer {
      top: 80px;
    }
    </style>
        <style>
        html, body {
            background-color: #ffffff;
        }
        .ol-control button {
            background-color: #f8f8f8 !important;
            color: #000000 !important;
            border-radius: 0px !important;
        }
        .ol-zoom, .geolocate, .gcd-gl-control .ol-control {
            background-color: rgba(255,255,255,.4) !important;
            padding: 3px !important;
        }
        .ol-scale-line {
            background: none !important;
        }
        .ol-scale-line-inner {
            border: 2px solid #f8f8f8 !important;
            border-top: none !important;
            background: rgba(255, 255, 255, 0.5) !important;
            color: black !important;
        }
        </style>
        <style>
        #map {
            width: 960px;
            height: 840px;
        }
        </style>
{% endblock %}

{% block title %}
    Your map!
{% endblock %}

{% block main %}
    <h1 style = "padding-top:15px"> Mapping {{ page_title }}: </h1>
    <div class = "row justify-content-center">
        <div>
        <!-- <div id="loader" style="display:block;left:30%;top:30%"></div> -->
        <img src = "static/mapicontop.png" id="loader" style="display:block;left:30%;top:30%">
        </div>
        <div id="map" class="col-auto">
            <div id="popup" class="ol-popup">
                <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                <div id="popup-content"></div>
            </div>
        </div>
        <div id="blurb" class="col-auto" style="padding-top:15px">
            <textarea style="width:680px;height:800px;text-align:left;padding-left:30px">
                {{ stuff }}
            </textarea>
            </div>
        </div>
        <script>
            var loader = document.getElementById("loader");
            var map = document.getElementById("map");
            var staticloader = document.getElementById("staticload")
            window.onload = (event) => {
                loader.style.display = "none";
                staticloader.style.display = "none";
                map.style.display = "block";
            }
        </script>
        <script src="static/resources/qgis2web_expressions.js"></script>
        <script src="static/resources/polyfills.js"></script>
        <script src="static/resources/functions.js"></script>
        <script src="static/resources/ol.js"></script>
        <script src="static/resources/ol-layerswitcher.js"></script>
        <script src="static/layers/LowResShapefile_0.js"></script><script src="{{ entryfile }}"></script>
        <script src="static/styles/LowResShapefile_0_style.js"></script><script src="static/styles/placenameslayer_1_style.js"></script>
        <script src="static/layers/layers.js" type="text/javascript"></script>
        <script src="static/resources/Autolinker.min.js"></script>
        <script src="static/resources/qgis2web.js"></script>
    </div>

    </div>
    </body>
{% endblock %}